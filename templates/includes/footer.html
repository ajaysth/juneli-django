<!-- ========================= FOOTER ========================= -->
<footer class="section-footer border-top">
	<div class="container">
		<section class="footer-bottom border-top row">
			<div class="col-md-2">
				<p class="text-muted"> &copy 2019 Company name </p>
			</div>
			<div class="col-md-8 text-md-center">
				<span  class="px-2">info@pixsellz.io</span>
				<span  class="px-2">+879-332-9375</span>
				<span  class="px-2">Street name 123, Avanue abc</span>
			</div>
			<div class="col-md-2 text-md-right text-muted">
				<i class="fab fa-lg fa-cc-visa"></i>
				<i class="fab fa-lg fa-cc-paypal"></i>
				<i class="fab fa-lg fa-cc-mastercard"></i>
			</div>
		</section>
	</div><!-- //container -->
</footer>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const input = document.getElementById('search-input');
    const suggestionBox = document.getElementById('autocomplete-list');
    let debounceTimeout = null;

    input.addEventListener('input', function() {
        const query = this.value.trim();

        // Clear any existing debounce timer
        if (debounceTimeout) {
            clearTimeout(debounceTimeout);
        }

        // If input is empty, clear suggestions
        if (!query) {
            suggestionBox.innerHTML = '';
            return;
        }

        // Debounce: wait 300ms after user stops typing
        debounceTimeout = setTimeout(() => {
            fetch(`/store/autocomplete/?q=` + encodeURIComponent(query))
                .then(response => response.json())
                .then(data => {
                    suggestionBox.innerHTML = '';

                    if (data.length === 0) {
                        return; // no suggestions
                    }

                    data.forEach(item => {
                        const div = document.createElement('div');
                        div.textContent = item;
                        div.style.padding = '8px';
                        div.style.cursor = 'pointer';

                        // On click, fill input and clear suggestions
                        div.addEventListener('click', () => {
                            input.value = item;
                            suggestionBox.innerHTML = '';
                        });

                        suggestionBox.appendChild(div);
                    });
                });
        }, 300);
    });

    // Optional: close suggestions if clicked outside
    document.addEventListener('click', (e) => {
        if (e.target !== input) {
            suggestionBox.innerHTML = '';
        }
    });
});
</script>
<!-- ========================= FOOTER END // ========================= -->